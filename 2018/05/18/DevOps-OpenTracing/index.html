<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>DevOps æ¼«è°ˆï¼šåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿä½“ç³»æ¦‚è¦ | Ribose Yim&#39;s Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="æ‘˜è¦ Key Words: metricsã€loggingã€tracing Google Dapper Family : Uber Jaegerã€æ·˜å® EagleEyeã€å¾®åš Watchmanã€äº¬ä¸œ CallGraphã€ç¾å›¢ MTrace æ•°æ®å¯è§†åŒ– | Exporters">
<meta property="og:type" content="article">
<meta property="og:title" content="DevOps æ¼«è°ˆï¼šåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿä½“ç³»æ¦‚è¦">
<meta property="og:url" content="https://riboseyim.com/2018/05/18/DevOps-OpenTracing/index.html">
<meta property="og:site_name" content="Ribose Yim&#39;s Home">
<meta property="og:description" content="æ‘˜è¦ Key Words: metricsã€loggingã€tracing Google Dapper Family : Uber Jaegerã€æ·˜å® EagleEyeã€å¾®åš Watchmanã€äº¬ä¸œ CallGraphã€ç¾å›¢ MTrace æ•°æ®å¯è§†åŒ– | Exporters">
<meta property="og:locale">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/DTM-MetricsTracingLogging-v2.png">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/zipkin-%E4%B8%B2%E8%A1%8C.png">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/zipkin-%E5%B9%B6%E8%A1%8C.png">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/DTM-Uber-Jaeger.png">
<meta property="og:image" content="https://zipkin.io/public/img/architecture-1.png">
<meta property="og:image" content="https://logz.io/wp-content/uploads/2018/05/zipkin_and_elk_-_article.jpg">
<meta property="og:image" content="https://cdn-images-1.medium.com/max/1600/1*edyzJ1zutH1IA2jpITp5Pg.png">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/DTM-Dapper-Overhead-1.jpg">
<meta property="og:image" content="http://riboseyim-qiniu.riboseyim.com/DTM-Dapper-Overhead-2.jpg">
<meta property="article:published_time" content="2018-05-18T03:36:46.000Z">
<meta property="article:modified_time" content="2023-08-16T02:50:04.516Z">
<meta property="article:author" content="RiboseYim">
<meta property="article:tag" content="DevOps">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="OpenSource">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://riboseyim-qiniu.riboseyim.com/DTM-MetricsTracingLogging-v2.png">
  
    <link rel="alternate" href="/atom.xml" title="Ribose Yim&#39;s Home" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    
  
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-129742531-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<meta name="generator" content="Hexo 5.4.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://riboseyim.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/archives">å½’æ¡£</a>
        
          <a class="main-nav-link" href="/tags/DevOps">DevOps</a>
        
          <a class="main-nav-link" href="/tags/Machine-Learning">æœºå™¨å­¦ä¹ </a>
        
          <a class="main-nav-link" href="/tags/Economist">ç»æµå­¦äºº</a>
        
          <a class="main-nav-link" href="/tags/Policy-Law">Policy&amp;Law</a>
        
          <a class="main-nav-link" href="/charts">å›¾è¡¨</a>
        
          <a class="main-nav-link" href="/2017/02/09/eBook">ç”µå­ä¹¦</a>
        
          <a class="main-nav-link" href="/2016/05/31/AboutMe">å…³äº</a>
        
          <a class="main-nav-link" href="https://riboseyim.com">TechBlog</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Ribose Yim&#39;s Home</a>
      </h1>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-DevOps-OpenTracing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/18/DevOps-OpenTracing/" class="article-date">
  <time datetime="2018-05-18T03:36:46.000Z" itemprop="datePublished">2018-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/technology/">å·¥ç¨‹æŠ€æœ¯</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      DevOps æ¼«è°ˆï¼šåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿä½“ç³»æ¦‚è¦
    </h1>
  

      </header>
      
      <footer class="article-footer">
        <a data-url="https://riboseyim.com/2018/05/18/DevOps-OpenTracing/" data-id="ckwgm33kq005m7b1yd3k1i5pn" class="article-share-link">åˆ†äº«</a>
        
        
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DevOps/" rel="tag">DevOps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenSource/" rel="tag">OpenSource</a></li></ul>

      </footer>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><ul>
<li>Key Words: metricsã€loggingã€tracing</li>
<li>Google Dapper Family : Uber Jaegerã€æ·˜å® EagleEyeã€å¾®åš Watchmanã€äº¬ä¸œ CallGraphã€ç¾å›¢ MTrace</li>
<li>æ•°æ®å¯è§†åŒ– | Exporters</li>
</ul>
<span id="more"></span>
<p>This article is part of an <strong>Distributed Tracing and Monitoring System</strong> tutorial series. Make sure to check out my other articles as well:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/05/18/DevOps-OpenTracing/">DevOps æ¼«è°ˆï¼šåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿä½“ç³»æ¦‚è¦</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/04/27/DevOps-OpenCensus">DevOps æ¼«è°ˆï¼šå¼€æºåˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ OpenCensus</a></li>
</ul>
<h2 id="ç»ªè®º"><a href="#ç»ªè®º" class="headerlink" title="ç»ªè®º"></a>ç»ªè®º</h2><p>è®¨è®ºåˆ†å¸ƒå¼è¿½è¸ªæŠ€æœ¯ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼šä»€ä¹ˆæ˜¯è·Ÿè¸ª ï¼Ÿ</p>
<h4 id="metrics"><a href="#metrics" class="headerlink" title="metrics"></a>metrics</h4><p>åº¦é‡ï¼ˆmetricsï¼‰çš„ç‰¹å¾æ˜¯èšåˆ: å®ƒä»¬æ˜¯åœ¨ä¸€æ®µæ—¶é—´å†…ç»„æˆå•ä¸€é€»è¾‘æ ‡å°ºã€è®¡æ•°å™¨æˆ–ç›´æ–¹å›¾çš„è·¨åº¦ã€‚ä¾‹å¦‚ï¼šHTTP è¯·æ±‚çš„æ•°é‡å¯ä»¥å»ºæ¨¡ä¸ºè®¡æ•°å™¨(counterï¼‰, å…¶æ›´æ–°é€»è¾‘å¾ˆç®€å•ï¼Œåªéœ€é€šè¿‡åŠ æ³•èšåˆ; å¦‚æœè®¾å®šä¸€æ®µæŒç»­çš„è§‚å¯Ÿæ—¶é—´ï¼Œè¯·æ±‚æ•°å¯ä»¥è¢«å»ºæ¨¡æˆä¸€ä¸ªç›´æ–¹å›¾ã€‚<a target="_blank" rel="noopener" href="https://riboseyim.github.io/2016/11/04/OpenSource-Ganglia/">ã€ŠåŸºäºGangliaå®ç°æœåŠ¡é›†ç¾¤æ€§èƒ½æ€åŠ¿æ„ŸçŸ¥ã€‹</a> ä»‹ç»çš„å°±æ˜¯ä»¥è®°å½•åº¦é‡ä¸ºä¸»çš„æ•…éšœç›‘æ§ç³»ç»Ÿã€‚</p>
<h4 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h4><p>æ—¥å¿—ï¼ˆloggingï¼‰çš„ç‰¹å¾æ˜¯å¤„ç†ç¦»æ•£äº‹ä»¶ã€‚æŒ‰ç…§äº‹ä»¶å‘ç”Ÿçš„æºå¯ä»¥åˆ†ä¸º Application Eventsã€System Eventsã€Service Eventsã€DNS Events ç­‰ã€‚é€šå¸¸ä¹ŸåŒ…å«é’ˆå¯¹åŸå§‹è®°å½•çš„å¤„ç†è¿‡ç¨‹ï¼Œä¾‹å¦‚ï¼šé€šè¿‡ Syslog å°†åº”ç”¨ç¨‹åºè°ƒè¯•æˆ–é”™è¯¯æ¶ˆæ¯å‘é€åˆ° Elasticsearch ; å®¡è®¡è®°å½•é€šè¿‡ Kafka å°†æ•°æ®æ¨é€åˆ°ç±»ä¼¼ BigTable çš„æ•°æ®æ± ; ä»æœåŠ¡è°ƒç”¨ä¸­æå–ç‰¹å®šçš„è¯·æ±‚å…ƒæ•°æ®, å¹¶å‘é€é”™è¯¯è·Ÿè¸ªæœåŠ¡ï¼ˆä¾‹å¦‚ <a target="_blank" rel="noopener" href="https://ruby-china.org/topics/22379">NewRelic</a>ï¼‰ã€‚</p>
<p><img src="http://riboseyim-qiniu.riboseyim.com/DTM-MetricsTracingLogging-v2.png" alt=""></p>
<h4 id="tracing"><a href="#tracing" class="headerlink" title="tracing"></a>tracing</h4><p>è·Ÿè¸ªï¼ˆtracingï¼‰çš„ç‰¹å¾ï¼šè·Ÿè¸ªå¤„ç†çš„æ˜¯è¯·æ±‚èŒƒå›´å†…çš„ä¿¡æ¯ï¼ˆrequest-scopedï¼‰ï¼Œä¾‹å¦‚ SQL è¯­å¥åœ¨æ•°æ®åº“çš„å®é™…æ‰§è¡Œæ—¶é—´æˆ– HTTP è¯·æ±‚è€—æ—¶ã€‚ä»¥ DTrace &amp; SystemTap ä¸ºä»£è¡¨çš„ <a target="_blank" rel="noopener" href="https://riboseyim.github.io/2016/11/26/DTrace/">åŠ¨æ€è¿½è¸ªæŠ€æœ¯</a> åŸºäºæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä¸éœ€è¦åŸ‹ç‚¹å°±å¯ä»¥æä¾›é«˜çº§æ€§èƒ½åˆ†æå’Œè°ƒè¯•åŠŸèƒ½ã€‚ä½†æ˜¯åœ¨åˆ†å¸ƒå¼æ¶æ„åœºæ™¯ä¸­ä¹Ÿæœ‰ä¸€äº›ä¸è¶³ï¼Œä¾‹å¦‚æŸäº›åŠŸèƒ½éœ€è¦å¤šæ¬¡è°ƒç”¨ RPC è¿œç¨‹æœåŠ¡ï¼Œè¿™äº›æœåŠ¡åˆ†å¸ƒåœ¨å¤šå°ä¸åŒçš„ host/vm/docker ä¸­ï¼Œå¦‚æœéœ€è¦æµ‹é‡è¯¥åŠŸèƒ½å“åº”çš„å®Œæ•´æŒç»­æ—¶é—´å°±æœ‰éš¾åº¦ã€‚</p>
<h4 id="ç¤ºä¾‹ï¼ˆUse-OpenCensus-with-OpenZipkinï¼‰"><a href="#ç¤ºä¾‹ï¼ˆUse-OpenCensus-with-OpenZipkinï¼‰" class="headerlink" title="ç¤ºä¾‹ï¼ˆUse OpenCensus with OpenZipkinï¼‰"></a>ç¤ºä¾‹ï¼ˆUse OpenCensus with OpenZipkinï¼‰</h4><p><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/05/18/DevOps-OpenTracing/">OpenCensus</a> ä½œä¸ºåŸ‹ç‚¹ API ï¼Œå¯¼å‡º tracing data åˆ° OpenZipkinï¼Œç”± Zipkin çš„ Web UI æä¾›æ•°æ®å±•ç¤ºå’Œäº¤äº’èƒ½åŠ›ï¼Œå¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹åˆ°å‡½æ•°è°ƒç”¨é¡ºåºå’Œè€—æ—¶ã€‚ä»ç†è§£ç³»ç»Ÿè¡Œä¸ºçš„è§’åº¦ä¸Šè¯´ï¼Œä¸åŠ¨æ€è¿½è¸ªæŠ€æœ¯ä¸­çš„ç«ç„°å›¾ï¼ˆflame graphï¼‰æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚</p>
<ul>
<li>ä¸²è¡Œè°ƒç”¨å‡½æ•°æ–¹æ³•ï¼ŒåŒ…æ‹¬ç½‘ç»œè®¿é—®å’ŒæŒä¹…åŒ–æ“ä½œ</li>
</ul>
<p><img src="http://riboseyim-qiniu.riboseyim.com/zipkin-%E4%B8%B2%E8%A1%8C.png" alt=""></p>
<ul>
<li>ç¤ºä¾‹ï¼ˆOpenCensus with OpenZipkinï¼‰ï¼šå¹¶è¡Œè°ƒç”¨å‡½æ•°æ–¹æ³•ï¼ˆGo routineï¼‰</li>
</ul>
<p><img src="http://riboseyim-qiniu.riboseyim.com/zipkin-%E5%B9%B6%E8%A1%8C.png" alt=""></p>
<h2 id="Google-Dapper-Family"><a href="#Google-Dapper-Family" class="headerlink" title="Google Dapper Family"></a>Google Dapper Family</h2><p>è®¨è®ºåˆ†å¸ƒå¼è·Ÿè¸ªï¼Œå°±ä¸€å®šä¼šè°ˆåˆ° Dapper â€”â€” Google å…¬å¸ç ”å‘å¹¶åº”ç”¨äºè‡ªå·±ç”Ÿäº§ç¯å¢ƒçš„ä¸€æ¬¾è·Ÿè¸ªç³»ç»Ÿï¼ˆè®¾è®¡ä¹‹åˆå‚è€ƒäº†ä¸€äº› Magpie å’Œ X-Trace çš„ç†å¿µ ï¼‰ã€‚Dapper ä¸ä»…ä¸ºä¸šå†…æä¾›äº†éå¸¸æœ‰å‚è€ƒä»·å€¼çš„å®ç°ï¼ŒåŒæ­¥å‘è¡¨è®ºæ–‡çš„ä¹Ÿæˆä¸ºäº†å½“å‰åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿçš„é‡è¦ç†è®ºåŸºç¡€ã€‚Google Dapper çš„ç†å¿µå½±å“äº†ä¸€æ‰¹åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿçš„å‘å±•ï¼Œä¾‹å¦‚ 2012 å¹´ï¼ŒTwitter å…¬å¸ä¸¥æ ¼æŒ‰ç…§ Dapper è®ºæ–‡çš„è¦æ±‚å®ç°äº† Zipkin ï¼ˆScala ç¼–å†™ï¼Œé›†æˆåˆ° Twitter å…¬å¸è‡ªå·±çš„åˆ†å¸ƒå¼æœåŠ¡ Finagle ï¼‰ï¼›Uber å…¬å¸åŸºäº Google Dapper å’Œ Twitter Zipkin çš„çµæ„Ÿï¼Œå¼€å‘äº†å¼€æºåˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ Jaegerã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://static.googleusercontent.com/media/research.google.com/zh-CN//archive/papers/dapper-2010-1.pdf">ã€ŠDapper, a Large-Scale Distributed Systems Tracing Infrastructure|Google Technical Report dapper-2010-1, April 2010ã€‹</a></li>
</ul>
<p>OpenTracing é€šè¿‡æä¾›å¹³å°æ— å…³ã€å‚å•†æ— å…³çš„APIï¼Œä½¿å¾—å¼€å‘äººå‘˜èƒ½å¤Ÿæ–¹ä¾¿çš„æ·»åŠ ï¼ˆæˆ–æ›´æ¢ï¼‰è¿½è¸ªç³»ç»Ÿçš„å®ç°ã€‚ OpenTracing æä¾›äº†ç”¨äºè¿è¥æ”¯æ’‘ç³»ç»Ÿçš„å’Œé’ˆå¯¹ç‰¹å®šå¹³å°çš„è¾…åŠ©ç¨‹åºåº“ã€‚é™¤äº† API ä¹‹å¤–ï¼Œä¸€ä¸ªå®Œæ•´çš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿè¿˜éœ€è¦åŒ…æ‹¬æ•°æ®å­˜å‚¨ã€æ”¯æŒä»£ç†è½¬å‘ã€ç”¨æˆ·å‹å¥½çš„ WebUI ç­‰ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼šZipkin ä¸“æ³¨äº tracing é¢†åŸŸï¼›Prometheus å¼€å§‹ä¸“æ³¨äº metricsï¼ŒåŒæ—¶å¯èƒ½ä¼šå‘å±•æ›´å¤šçš„ tracing åŠŸèƒ½ï¼Œä½†ä¸å¤ªå¯èƒ½æ·±å…¥ logging é¢†åŸŸï¼›åŸºäº ELK ä¹‹ç±»çš„æ—¥å¿—ç³»ç»Ÿä¸“æ³¨äº logging é¢†åŸŸï¼Œä½†ä¹Ÿå¯èƒ½é›†æˆå…¶ä»–é¢†åŸŸçš„ç‰¹æ€§ã€‚æ€»ä¹‹ï¼Œå„å¼å„æ ·çš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿéƒ½æ˜¯ä»¥ tracing ä¸ºåŸºç¡€ï¼ŒåŒæ—¶æ ¹æ®è‡ªå·±çš„éœ€è¦åœ¨å…¶ä»–ä¸¤ä¸ªé¢†åŸŸå„æœ‰æ‰€ä¾§é‡è€Œå·²ã€‚</p>
<h4 id="Uber-Jaeger"><a href="#Uber-Jaeger" class="headerlink" title="Uber Jaeger"></a>Uber Jaeger</h4><p><a target="_blank" rel="noopener" href="http://www.infoq.com/cn/articles/evolving-distributed-tracing-at-uber-engineering">Uber Jaeger</a> æ˜¯ Uber å·¥ç¨‹å›¢é˜Ÿå¼€æºçš„åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿã€‚è‡ª 2016å¹´ èµ·ï¼ŒJaeger åœ¨ Uber å†…éƒ¨å®ç°å¤§èŒƒå›´åº”ç”¨ã€‚Uber åŒæ—¶å¼€å‘äº†ä¸€ç§é€‚ç”¨äº RPC çš„ç½‘ç»œå¤šè·¯å¤ç”¨å’Œæ¡†æ¶åè®® â€”â€” <a target="_blank" rel="noopener" href="https://github.com/uber/tchannel">TChannel | Support: Node.js,Python,Go,Java</a>ï¼Œè¯¥åè®®èå…¥äº†åˆ†å¸ƒå¼è¿½è¸ªèƒ½åŠ›ã€‚</p>
<p>TChannel åè®®è§„èŒƒåœ¨äºŒè¿›åˆ¶æ ¼å¼ä¸­ç›´æ¥å®šä¹‰äº†è¿½è¸ªå­—æ®µï¼šâ€œ spanid:8 parentid:8 traceid:8 traceflags:1 â€ã€‚</p>
<ul>
<li>jaeger-clientï¼šæ”¯æŒå¤šç§è¯­è¨€çš„å®¢æˆ·ç«¯åº“ï¼Œå¦‚Go, Java, Pythonç­‰è¯­è¨€</li>
<li>jaeger-agentï¼šå®¢æˆ·ç«¯ä»£ç†è´Ÿè´£å°†è¿½è¸ªæ•°æ®è½¬å‘åˆ°æœåŠ¡ç«¯ï¼Œè¿™æ ·èƒ½æ–¹ä¾¿åº”ç”¨çš„å¿«é€Ÿå¤„ç†ï¼ŒåŒæ—¶å‡è½»æœåŠ¡ç«¯çš„ç›´æ¥å‹åŠ›ï¼›å¦å¤–å¯ä»¥åœ¨å®¢æˆ·ç«¯ä»£ç†åŠ¨æ€è°ƒæ•´é‡‡æ ·çš„é¢‘ç‡ï¼Œè¿›è¡Œè¿½è¸ªæ•°æ®é‡‡æ ·çš„æ§åˆ¶</li>
<li>jaeger-collectorï¼šæ•°æ®æ”¶é›†å™¨ä¸»è¦è¿›è¡Œæ•°æ®æ”¶é›†å’Œå¤„ç†ï¼Œä»å®¢æˆ·ç«¯ä»£ç†æ”¶é›†æ•°æ®è¿›è¡Œå¤„ç†åæŒä¹…åŒ–åˆ°æ•°æ®å­˜å‚¨ä¸­</li>
<li>æ•°æ®å­˜å‚¨ï¼šç›®å‰æ”¯æŒå°†æ”¶é›†åˆ°çš„æ•°æ®æŒä¹…åŒ–åˆ° Cassandra ã€ Elasticsearch</li>
<li>jaeger-queryï¼šä¸»è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶åˆ°æ•°æ®å­˜å‚¨ä¸­è¿›è¡Œæœç´¢ï¼Œæ”¯æ’‘å‰ç«¯é¡µé¢çš„å±•ç¤º</li>
<li>jaeger-uiï¼šä¸€ä¸ªåŸºäº React çš„å‰ç«¯ webui</li>
<li>jaeger spark: æ˜¯ä¸€ä¸ªåŸºäº Spark èšåˆæ•°æ®ç®¡é“ï¼Œç”¨ä»¥å®ŒæˆæœåŠ¡ä¾èµ–åˆ†æ</li>
</ul>
<p><img src="http://riboseyim-qiniu.riboseyim.com/DTM-Uber-Jaeger.png" alt=""></p>
<h4 id="æ·˜å®-EagleEyeï¼ˆé¹°çœ¼ï¼‰"><a href="#æ·˜å®-EagleEyeï¼ˆé¹°çœ¼ï¼‰" class="headerlink" title="æ·˜å® EagleEyeï¼ˆé¹°çœ¼ï¼‰"></a>æ·˜å® EagleEyeï¼ˆé¹°çœ¼ï¼‰</h4><p><a target="_blank" rel="noopener" href="http://jm.taobao.org/2014/03/04/3465/">EagleEyeï¼ˆé¹°çœ¼ï¼‰</a> æ˜¯Google çš„åˆ†å¸ƒå¼è°ƒç”¨è·Ÿè¸ªç³»ç»Ÿ Dapper åœ¨æ·˜å®çš„å®ç°ã€‚ä¸»è¦ç‰¹ç‚¹æ˜¯é€šè¿‡æ¯å°åº”ç”¨æœºå™¨ä¸Šçš„ Agent å®æ—¶æŠ“å– EagleEye æ—¥å¿—ï¼ŒæŒ‰ç…§æ—¥å¿—ç±»å‹ä¸åˆ†åˆ«å¤„ç†ï¼š</p>
<ul>
<li>å…¨é‡åŸå§‹æ—¥å¿—ç›´æ¥å­˜å‚¨åˆ° HDFS ï¼›åˆ›å»º MapReduce ä»»åŠ¡å®Œæˆè°ƒç”¨é“¾åˆå¹¶ã€åˆ†æå’Œç»Ÿè®¡ï¼›</li>
<li>æœ‰å®æ—¶æ ‡è®°çš„åŸå§‹æ—¥å¿—å­˜å‚¨åˆ° HBase ï¼›</li>
<li>ä¸šåŠ¡æ—¥å¿—ï¼šä¸€éƒ¨åˆ†ä¼šè¢«ç›´æ¥å¤„ç†å­˜å‚¨åˆ° HBaseï¼Œæœ‰ä¸€éƒ¨åˆ†ä¼šä½œä¸ºæ¶ˆæ¯å‘é€å‡ºå»ï¼Œç”±ç‰¹å®šçš„ä¸šåŠ¡ç³»ç»Ÿè®¢é˜…å¤„ç†ï¼›</li>
<li>è°ƒç”¨å®æ—¶ç»Ÿè®¡ï¼Œæä¾›åˆ†é’Ÿçº§åˆ«çš„å®æ—¶é“¾è·¯è°ƒç”¨è§†å›¾ï¼Œè¾…åŠ©æ•…éšœå®šä½ã€‚</li>
</ul>
<h4 id="å›½å†…å…¶ä»–è¡ç”Ÿç³»ç»Ÿ"><a href="#å›½å†…å…¶ä»–è¡ç”Ÿç³»ç»Ÿ" class="headerlink" title="å›½å†…å…¶ä»–è¡ç”Ÿç³»ç»Ÿ"></a>å›½å†…å…¶ä»–è¡ç”Ÿç³»ç»Ÿ</h4><ul>
<li><p><a target="_blank" rel="noopener" href="http://www.infoq.com/cn/articles/weibo-watchman">å¾®åš Watchman</a>ï¼šå¾®åšå¹³å°çš„é“¾è·¯è¿½è¸ªåŠæœåŠ¡è´¨é‡ä¿éšœç³»ç»Ÿã€‚watchman-aspect ç»„ä»¶é€šè¿‡å¼‚æ­¥æ—¥å¿—ï¼ˆasync-loggerï¼‰åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šè¾“å‡ºæ—¥å¿—æ–‡ä»¶ï¼›ä»¥æµå¼çš„æ–¹å¼å¤„ç†æ•°æ®ï¼Œwatchman-prism ç»„ä»¶ï¼ˆåŸºäº Scribeï¼‰ï¼Œå°†æ—¥å¿—æ¨é€åˆ° watchman-stream ç»„ä»¶ï¼ˆåŸºäºStormï¼‰, æ ¹æ®éœ€æ±‚è¿›è¡Œèšåˆã€ç»Ÿè®¡ç­‰è®¡ç®—ï¼ˆé’ˆå¯¹æ€§èƒ½æ•°æ®ï¼‰ï¼Œè§„èŒƒåŒ–ã€æ’åºï¼ˆé’ˆå¯¹è°ƒç”¨é“¾æ•°æ®ï¼‰ï¼Œä¹‹åå†™å…¥ HBase ã€‚</p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://zhuanlan.51cto.com/art/201701/528304.htm">äº¬ä¸œ CallGraph</a>ï¼šå…¨å±€ TraceID çš„è°ƒç”¨é“¾ã€‚æ ¸å¿ƒåŒ…ï¼ˆå®ŒæˆåŸ‹ç‚¹é€»è¾‘ï¼Œæ—¥å¿—å­˜æ”¾åœ¨å†…å­˜ç£ç›˜ä¸Šç”± Agent æ”¶é›†å‘é€åˆ°JMQï¼‰ã€JMQï¼ˆæ—¥å¿—æ•°æ®ç®¡é“ï¼‰ã€Stormï¼ˆå¯¹æ•°æ®æ—¥å¿—å¹¶è¡Œæ•´ç†å’Œè®¡ç®—ï¼‰ã€å­˜å‚¨ï¼ˆå®æ—¶æ•°æ®å­˜å‚¨JimDB/HBase/ESï¼Œç¦»çº¿æ•°æ®å­˜å‚¨åŒ…æ‹¬HDFSå’ŒSparkï¼‰ã€CallGraph-UIï¼ˆç”¨æˆ·äº¤äº’ç•Œé¢ï¼‰ã€UCCï¼ˆå­˜æ”¾é…ç½®ä¿¡æ¯å¹¶åŒæ­¥åˆ°å„æœåŠ¡å™¨ï¼‰ã€ç®¡ç†å…ƒæ•°æ®ï¼ˆå­˜æ”¾é“¾è·¯ç­¾åä¸åº”ç”¨æ˜ å°„å…³ç³»ç­‰ï¼‰ã€‚æ—¥å¿—æ ¼å¼ï¼šå›ºå®šéƒ¨åˆ†ï¼ˆTraceIDã€RpcIDã€å¼€å§‹æ—¶é—´ã€è°ƒç”¨ç±»å‹ã€å¯¹ç«¯IPã€è°ƒç”¨è€—æ—¶ã€è°ƒç”¨ç»“æœç­‰ï¼‰ã€å¯å˜éƒ¨åˆ†ã€‚</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://tech.meituan.com/mt-mtrace.html">ç¾å›¢ MTrace</a>ï¼šç¾å›¢ç‚¹è¯„å†…éƒ¨çš„åˆ†å¸ƒå¼ä¼šè¯è·Ÿè¸ªç³»ç»Ÿã€‚åŸºäºå…¨å±€ TraceID çš„è°ƒç”¨é“¾ï¼Œå®¢æˆ·ç«¯ä¸åç«¯æœåŠ¡ä¹‹é—´æœ‰ä¸€å±‚ Kafkaï¼Œå®ç°ä¸¤è¾¹å·¥ç¨‹çš„è§£è€¦ã€‚å®æ—¶æ•°æ®ä¸»è¦ä½¿ç”¨ Hbase ï¼ŒtraceID ä½œä¸º RowKeyï¼›ç¦»çº¿æ•°æ®ä¸»è¦ä½¿ç”¨ Hiveï¼Œå¯ä»¥é€šè¿‡ SQL è¿›è¡Œä¸€äº›ç»“æ„åŒ–æ•°æ®çš„å®šåˆ¶åˆ†æã€‚</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://patents.google.com/patent/WO2017071134A1/zh">CN105224445B | WO2017071134A1 | åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ| åŒ—äº¬æ±‡å•†èé€šä¿¡æ¯æŠ€æœ¯æœ‰é™å…¬å¸ | 2015-10-28</a></p>
</li>
<li><p><strong>ä¸å®Œå…¨ç»Ÿè®¡</strong></p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>åç§°</th>
<th>åŸç†</th>
<th>å®¢æˆ·ç«¯</th>
<th>ä¾èµ–åˆ†æ</th>
<th>å­˜å‚¨</th>
<th>å¯è§†åŒ–</th>
</tr>
</thead>
<tbody>
<tr>
<td>Google Dapper</td>
<td>TraceID</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
</tr>
<tr>
<td>OpenTracing</td>
<td>TraceID</td>
<td>go,java,python,js,objective-c,c++</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
</tr>
<tr>
<td>OpenCensus</td>
<td>TraceID</td>
<td>go,java,python,C++,.Net,js,Erlang</td>
<td>â€”â€”-</td>
<td>â€”â€”-</td>
<td>no web-ui,Support Exporter</td>
</tr>
<tr>
<td>Uber Jaeger</td>
<td>TraceID</td>
<td>java,go,python <br> Support Agent Proxy</td>
<td>Spark</td>
<td>Cassandraã€ES</td>
<td>React Web-ui</td>
</tr>
<tr>
<td>æ·˜å® EagleEyeï¼ˆé¹°çœ¼ï¼‰</td>
<td>TraceID</td>
<td>yes</td>
<td>MapReduce</td>
<td>HDFS(å…¨é‡) <br> HBase(å®æ—¶)</td>
<td>yes</td>
</tr>
<tr>
<td>å¾®åš Watchman</td>
<td>æ—¥å¿—</td>
<td>watchman-aspect</td>
<td>Storm</td>
<td>HBase</td>
<td>yes</td>
</tr>
<tr>
<td>äº¬ä¸œ CallGraph</td>
<td>TraceID</td>
<td>Agent-&gt;JMQ</td>
<td>Storm</td>
<td>JimDBï¼ˆå®æ—¶ï¼‰<br>ESã€Sparkï¼ˆç¦»çº¿ï¼‰</td>
<td>yes</td>
</tr>
<tr>
<td>ç¾å›¢ MTrace</td>
<td>TraceID</td>
<td>Agent-&gt; Kafka <br> Support Agent  Proxy</td>
<td>Storm</td>
<td>HBase(å®æ—¶)<br> Hive(ç¦»çº¿)</td>
<td>yes</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Exporters-æ•°æ®å¯è§†åŒ–"><a href="#Exporters-æ•°æ®å¯è§†åŒ–" class="headerlink" title="Exporters | æ•°æ®å¯è§†åŒ–"></a>Exporters | æ•°æ®å¯è§†åŒ–</h2><h3 id="Prometheus-æ™®ç½—ç±³ä¿®æ–¯"><a href="#Prometheus-æ™®ç½—ç±³ä¿®æ–¯" class="headerlink" title="Prometheus|æ™®ç½—ç±³ä¿®æ–¯"></a><a target="_blank" rel="noopener" href="https://prometheus.io">Prometheus|æ™®ç½—ç±³ä¿®æ–¯</a></h3><h3 id="Stackdriver"><a href="#Stackdriver" class="headerlink" title="Stackdriver"></a><a target="_blank" rel="noopener" href="https://cloud.google.com/stackdriver/">Stackdriver</a></h3><p>é€‚ç”¨äº Google Cloud Platform ä¸ AWS åº”ç”¨çš„ç›‘æ§ã€æ—¥å¿—è®°å½•å’Œè¯Šæ–­å·¥å…·</p>
<h3 id="SignalFX"><a href="#SignalFX" class="headerlink" title="SignalFX"></a><a target="_blank" rel="noopener" href="https://signalfx.com">SignalFX</a></h3><h3 id="Amazon-AWS-X-Ray"><a href="#Amazon-AWS-X-Ray" class="headerlink" title="Amazon AWS X-Ray"></a>Amazon AWS X-Ray</h3><h3 id="Zipkin"><a href="#Zipkin" class="headerlink" title="Zipkin"></a><a target="_blank" rel="noopener" href="https://zipkin.io">Zipkin</a></h3><p>Zipkin çš„ Span æ¨¡å‹å‡ ä¹å®Œå…¨ä»¿é€ äº† Dapper ä¸­çš„ Span è®¾è®¡ï¼ŒZipkin çš„ Span åŒ…æ‹¬åŸºç¡€æ•°æ®ï¼ˆtraceIdã€spanIdã€parentIdã€nameã€timestamp å’Œ durationï¼Œä¸»è¦ç”¨äºè¡¨ç¤ºè·Ÿè¸ªæ ‘ä¸­èŠ‚ç‚¹çš„å…³è”å…³ç³»ï¼‰ã€ Annotationï¼ˆè®°å½•è¯·æ±‚ç‰¹å®šäº‹ä»¶ç›¸å…³ä¿¡æ¯ï¼‰ã€BinaryAnnotationï¼ˆæ‰©å±•ä¿¡æ¯ï¼‰ã€‚</p>
<p>Zipkin åŒ…æ‹¬å››å¤§ç»„ä»¶ï¼š</p>
<ul>
<li>Zipkin Collector: å¤„ç†è·Ÿè¸ªæ•°æ®çš„å®ˆæŠ¤è¿›ç¨‹ (validate,store,index)ï¼›</li>
<li>Storage: è®¾è®¡ä¹‹åˆæ”¯æŒ Cassandra å­˜å‚¨ï¼ˆTwitter å¹¿æ³›åº”ç”¨ï¼‰ï¼Œç›®å‰ä¹Ÿæ”¯æŒ ElasticSearch å’Œ MySQLï¼›</li>
<li>Zipkin Query Service: JSON APIï¼›</li>
<li>Web UI: æ²¡æœ‰å†…ç½®èº«ä»½è®¤è¯ã€‚</li>
</ul>
<p><img src="https://zipkin.io/public/img/architecture-1.png" alt="Zipkin Architecture"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://logz.io/blog/zipkin-elk/?utm_source=twitter&amp;utm_medium=social&amp;utm_content=zipkin-elk/&amp;utm_campaign=blog_post">æ‰©å±•é˜…è¯» | Distributed Tracing with Zipkin and ELK</a></li>
</ul>
<p><img src="https://logz.io/wp-content/uploads/2018/05/zipkin_and_elk_-_article.jpg" alt=""></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://medium.com/merapar/exposing-zipkin-trace-id-and-span-id-in-logging-for-use-in-kibana-25d1e5b6bfbb">æ‰©å±•é˜…è¯» | Tracing microservices with Zipkin and Kibana</a></li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*edyzJ1zutH1IA2jpITp5Pg.png" alt=""></p>
<h2 id="OpenCensus-vs-OpenTracing"><a href="#OpenCensus-vs-OpenTracing" class="headerlink" title="OpenCensus vs OpenTracing"></a><a target="_blank" rel="noopener" href="https://zipkin.io">OpenCensus</a> vs <a target="_blank" rel="noopener" href="http://opentracing.io/">OpenTracing</a></h2><div class="table-container">
<table>
<thead>
<tr>
<th>Future</th>
<th>OpenTracing</th>
<th>OpenCensus</th>
<th>Google Dapper</th>
</tr>
</thead>
<tbody>
<tr>
<td>API æ”¯æŒ</td>
<td><a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-go">Go</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-python">Python</a>ã€<a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-javascript">Javascript</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-objc">Objective-C</a><br><a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-java">Java</a>ã€<a target="_blank" rel="noopener" href="https://github.com/opentracing/opentracing-cpp">C++</a> <br> ç ”å‘ä¸­ï¼š<a href="#">PHP</a> ã€<a href="#">Ruby </a></td>
<td>Goã€Javaã€C++ã€.Netï¼ŒNode.jsï¼ŒErlang <br> ç ”å‘ä¸­ï¼š<br> Python(STATS In Progress) ã€ PHP(STATS Planned) ã€ Ruby(STATS Planned)</td>
<td>â€”</td>
</tr>
<tr>
<td>EXPORTERS</td>
<td>â€”</td>
<td>SignalFX (Javaã€C++) <br> Prometheus (Javaã€C++ã€Goã€Erlang) <br> Jaeger (Javaã€Go) <br> Stackdriver (Javaã€C++ã€Goã€Pythonã€ERLANG-Trace Only) <br> Zipkin (Javaã€C++ã€Goã€Erlang) <br> Instana (Java)</td>
<td>â€”</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://opencensus.io/roadmap.html">OpenCensus ROADMAP</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://gianarb.it/blog/what-is-distributed-tracing-opentracing-opencensus">What is distributed tracing. Zoom on opencensus and opentracing</a></p>
</li>
</ul>
<p><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">What&#39;s the difference between opencensus and opentracing?</p>&mdash; #GoldenBlackChild ğŸŒŸğŸ†ğŸ…ğŸ¥‡ (@nevi_me) <a target="_blank" rel="noopener" href="https://twitter.com/nevi_me/status/953683034229833728?ref_src=twsrc%5Etfw">January 17, 2018</a></blockquote></p>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<h2 id="Sensor-Sensibility-Format"><a href="#Sensor-Sensibility-Format" class="headerlink" title="Sensor Sensibility Format"></a>Sensor Sensibility Format</h2><p>The Sensor Sensibility Format â€” or SSF for short â€” is a language agnostic format for transmitting observability data such as trace spans, metrics, events and more. <a target="_blank" rel="noopener" href="https://github.com/stripe/veneur/tree/master/ssf">https://github.com/stripe/veneur/tree/master/ssf</a></p>
<h2 id="ç®¡ç†è´Ÿè½½-Managing-Tracing-Overhead"><a href="#ç®¡ç†è´Ÿè½½-Managing-Tracing-Overhead" class="headerlink" title="ç®¡ç†è´Ÿè½½ Managing Tracing Overhead"></a>ç®¡ç†è´Ÿè½½ Managing Tracing Overhead</h2><p>ç›®å‰å¤šæ•°åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿé‡‡ç”¨å¼‚æ­¥å†™å…¥æ—¥å¿—ã€å»ºç«‹ç¼“å†²å­˜å‚¨ï¼ˆåŸºäºå†…å­˜æˆ–è€…å†…å­˜æ•°æ®åº“ï¼‰ã€è®¾ç½®é‡‡æ ·é˜ˆå€¼ç­–ç•¥ï¼ˆåŒ…æ‹¬ä¸€å®šæƒ…å†µä¸‹ç›´æ¥ä¸¢å¼ƒï¼‰çš„æ–¹å¼æ§åˆ¶è¿½è¸ªè´Ÿè½½ã€‚Google Dapper å…¬å¸ƒçš„æ€§èƒ½æŸè€—æµ‹è¯„æ•°æ®å¦‚ä¸‹ï¼š</p>
<p><img src="http://riboseyim-qiniu.riboseyim.com/DTM-Dapper-Overhead-1.jpg" alt=""></p>
<p><img src="http://riboseyim-qiniu.riboseyim.com/DTM-Dapper-Overhead-2.jpg" alt=""></p>
<p><strong>æ·˜å® EagleEye</strong> ï¼š1ï¼‰ä¸“å±æ—¥å¿—è¾“å‡ºå®ç°ï¼Œæ—¥å¿—å¼‚æ­¥å†™å…¥æ¥é¿å… hang ä½ä¸šåŠ¡çº¿ç¨‹ï¼Œå¯è°ƒèŠ‚æ—¥å¿—è¾“å‡ºç¼“å†²å¤§å°ï¼Œæ§åˆ¶æ¯ç§’å†™æ—¥å¿—çš„ IO æ¬¡æ•°ç­‰ã€‚2ï¼‰å…¨å±€é‡‡æ ·å¼€å…³ï¼Œåœ¨è¿è¡ŒæœŸæ§åˆ¶è°ƒç”¨é“¾çš„é‡‡æ ·ç‡ï¼ˆæ ¹æ® TraceId æ¥å†³å®šå½“å‰çš„è¿™ä¸€æ¬¡è®¿é—®æ—¥å¿—æ˜¯å¦è¾“å‡ºï¼‰ã€‚æ¯”å¦‚é‡‡æ ·ç‡è¢«è®¾ç½®ä¸º 10ï¼Œä¸€éƒ¨åˆ†è°ƒç”¨é“¾æ—¥å¿—å®Œå…¨ä¸è¾“å‡ºï¼Œåªæœ‰ hash(traceId) mod 10 çš„å€¼ç­‰äº0çš„æ—¥å¿—æ‰ä¼šè¾“å‡ºã€‚ä¾‹å¦‚æ ¸å¿ƒå…¥å£çš„è°ƒç”¨é‡æ ·æœ¬ç©ºé—´è¶³å¤Ÿå¤§ï¼ˆæ¯æ—¥ç™¾ä¸‡æ¬¡ä»¥ä¸Šçº§åˆ«ï¼‰ï¼Œå‡è®¾ç»Ÿè®¡è¯¯å·® 0.1% ï¼Œå³ä½¿å¼€å¯1/10çš„é‡‡æ ·æ€»å’Œè¯¯å·®ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p>
<p><strong>å¾®åš Watchman</strong>ï¼šå¦‚æŸä¸ªæœåŠ¡ç”±äºç¬æ—¶è®¿é—®é«˜å³°ï¼Œé€ æˆåº•å±‚èµ„æºå‹åŠ›å˜å¤§ä»è€ŒæœåŠ¡å“åº”æ—¶é—´å˜é•¿ï¼Œæ§åˆ¶ç­–ç•¥å¯ä»¥æ ¹æ®è®¾å®šéšæœºä¸¢å¼ƒåç»­çš„è¯·æ±‚ï¼Œå¦‚æœæƒ…å†µåŠ å‰§å°±ä¼šè‡ªåŠ¨é™çº§è¯¥æœåŠ¡ï¼Œä¿è¯æ ¸å¿ƒæœåŠ¡è·¯å¾„ã€‚</p>
<h2 id="æ‰©å±•é˜…è¯»"><a href="#æ‰©å±•é˜…è¯»" class="headerlink" title="æ‰©å±•é˜…è¯»"></a>æ‰©å±•é˜…è¯»</h2><h4 id="åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ"><a href="#åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ" class="headerlink" title="åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ"></a>åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ</h4><ul>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/04/27/DevOps-OpenCensus">DevOps æ¼«è°ˆï¼šå¼€æºåˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿ OpenCensus</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/05/18/DevOps-OpenTracing/">DevOps æ¼«è°ˆï¼šåˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿæ ‡å‡†ä½“ç³»</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/10/30/Protocol-gRPC/">è¿œç¨‹é€šä¿¡åè®®ï¼šä» CORBA åˆ° gRPC</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/05/24/Log/">åº”ç”¨ç¨‹åºå¼€å‘ä¸­çš„æ—¥å¿—ç®¡ç†(Goè¯­è¨€æè¿°)</a></li>
</ul>
<h4 id="åŠ¨æ€è¿½è¸ªæŠ€æœ¯"><a href="#åŠ¨æ€è¿½è¸ªæŠ€æœ¯" class="headerlink" title="åŠ¨æ€è¿½è¸ªæŠ€æœ¯"></a>åŠ¨æ€è¿½è¸ªæŠ€æœ¯</h4><ul>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2016/11/26/DTrace/">åŠ¨æ€è¿½è¸ªæŠ€æœ¯(ä¸€)ï¼šDTrace å¯¼è®º</a></li>
<li><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MjM5MTY1MjQ3Nw==&amp;mid=2651939588&amp;idx=1&amp;sn=35f71c5f88d1edf23cb2efc812ab8e6c&amp;chksm=bd578c168a20050041c08618281691f0111f61c789097a69095933057618637fc54817815921#rd">åŠ¨æ€è¿½è¸ªæŠ€æœ¯(äºŒ)ï¼šstrace+gdb æº¯æº Nginx å†…å­˜æº¢å‡ºå¼‚å¸¸ </a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/04/17/DTrace_FTrace/">åŠ¨æ€è¿½è¸ªæŠ€æœ¯(ä¸‰)ï¼šTracing Your Kernel Function!</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/06/27/DTrace_bcc/">åŠ¨æ€è¿½è¸ªæŠ€æœ¯(å››)ï¼šåŸºäº Linux bcc/BPF å®ç° Go ç¨‹åºåŠ¨æ€è¿½è¸ª</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2018/02/16/DTrace-Linux/">åŠ¨æ€è¿½è¸ªæŠ€æœ¯(äº”)ï¼šWelcome DTrace for Linux</a></li>
</ul>
<h4 id="å¼€æºæ¶æ„æŠ€æœ¯æ¼«è°ˆ"><a href="#å¼€æºæ¶æ„æŠ€æœ¯æ¼«è°ˆ" class="headerlink" title="å¼€æºæ¶æ„æŠ€æœ¯æ¼«è°ˆ"></a>å¼€æºæ¶æ„æŠ€æœ¯æ¼«è°ˆ</h4><ul>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/05/23/RestfulAPI/">åŸºäºGoè¯­è¨€å¿«é€Ÿæ„å»ºä¸€ä¸ªRESTful APIæœåŠ¡</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/06/12/OpenSource-Kafka-Microservice/">åŸºäºKafkaæ„å»ºäº‹ä»¶æº¯æºå‹å¾®æœåŠ¡</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2017/12/04/Visualization-Graphite/">æ•°æ®å¯è§†åŒ–ï¼ˆä¸ƒï¼‰Graphite ä½“ç³»ç»“æ„è¯¦è§£</a></li>
<li><a target="_blank" rel="noopener" href="https://riboseyim.github.io/2016/08/15/OpenSource-Kafka/">DevOps èµ„è®¯ | LinkedIn å¼€æº Kafka Monitor</a></li>
</ul>
<h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul>
<li><a target="_blank" rel="noopener" href="https://wu-sheng.gitbooks.io/opentracing-io/content/">OpenTraing æ–‡æ¡£ | ä¸­æ–‡ </a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/opentracing/the-difference-between-tracing-tracing-and-tracing-84b49b2d54ea">The difference between tracing, tracing, and tracing</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/jaegertracing/using-opentracing-with-istio-envoy-d8a4246bdc15">Using OpenTracing with Istio/Envoy</a></li>
<li><a target="_blank" rel="noopener" href="http://www.infoq.com/cn/articles/evolving-distributed-tracing-at-uber-engineering">ä¼˜æ­¥åˆ†å¸ƒå¼è¿½è¸ªæŠ€æœ¯å†åº¦ç²¾è¿›</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/34318538">å¼€æ”¾åˆ†å¸ƒå¼è¿½è¸ªï¼ˆOpenTracingï¼‰å…¥é—¨ä¸ Jaeger å®ç°</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jaegertracing/jaeger">Github | CNCF Jaeger, a Distributed Tracing System</a></li>
<li><a target="_blank" rel="noopener" href="https://sematext.com/blog/opentracing-jaeger-as-distributed-tracer/?utm_source=getresponse&amp;utm_medium=email&amp;utm_campaign=devopslinks&amp;utm_content=DevOpsLinks+%23112:+Jenkins+Scripted+Pipelines,+The+State+Of+Stateful+Apps+on+K8S+%26+Never+Write+Your+Own+Database">OpenTracing: Jaeger as Distributed Tracer</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/@Pinterest_Engineering/distributed-tracing-at-pinterest-with-new-open-source-tools-a4f8a5562f6b">Distributed tracing at Pinterest with new open source tools</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/devthoughts/instrumenting-a-go-application-with-zipkin-b79cc858ac3e">Instrumenting a Go application with Zipkin</a></li>
<li><a target="_blank" rel="noopener" href="http://manzhizhen.iteye.com/blog/2348175">åˆ†å¸ƒå¼è·Ÿè¸ªç³»ç»Ÿï¼ˆä¸€ï¼‰ï¼šZipkinçš„èƒŒæ™¯å’Œè®¾è®¡</a></li>
<li><a target="_blank" rel="noopener" href="http://ginobefunny.com/post/learning_distributed_systems_tracing/">åˆ†å¸ƒå¼è°ƒç”¨è·Ÿè¸ªç³»ç»Ÿè°ƒç ”ç¬”è®°</a></li>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Fbhhc4jtGW4&amp;feature=youtu.be">Node.js Performance and Highly Scalable Micro-Services - Chris Bailey, IBM</a></li>
<li><a target="_blank" rel="noopener" href="https://tech.meituan.com/mt-mtrace.html">åˆ†å¸ƒå¼ä¼šè¯è·Ÿè¸ªç³»ç»Ÿæ¶æ„è®¾è®¡ä¸å®è·µ | ç¾å›¢ç‚¹è¯„æŠ€æœ¯å›¢é˜Ÿ | å¿—æ¡ Â·2016-10-14 18:13</a></li>
<li><a target="_blank" rel="noopener" href="http://peter.bourgon.org/blog/2017/02/21/metrics-tracing-and-logging.html">Metrics, tracing, and logging | 2017 02 21</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.codingnow.com/2018/05/skynet_trace.html">è·Ÿè¸ª skynet æœåŠ¡é—´çš„æ¶ˆæ¯è¯·æ±‚åŠæ€§èƒ½åˆ†æ | äº‘é£çš„Blog</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://riboseyim.com/2018/05/18/DevOps-OpenTracing/" data-id="ckwgm33kq005m7b1yd3k1i5pn" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DevOps/" rel="tag">DevOps</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenSource/" rel="tag">OpenSource</a></li></ul>

    </footer>
  </div>

  
    <div class="article-entry" itemprop="articleBody">
      <p>
      æ¬¢è¿æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·è·å–æœ€æ–°åŠ¨æ€ï¼Œè¯»è€…äº¤æµ QQ ç¾¤ï¼š338272982 ã€‚
      <br>
      </p>
      <p>
        <a href="https://riboseyim.com" title="å¾®ä¿¡å…¬ä¼—å·@ç¿å“¥æ‚è´§é“º" rel="fancy-group" class="fancy-ctn fancybox">
          <img src="http://riboseyim-qiniu.riboseyim.com/ID_RiboseYim_201812.png" title="å¾®ä¿¡å…¬ä¼—å·@ç¿å“¥æ‚è´§é“º">
        </a>
      </p>
    </div>
    
 
<script src="/jquery/jquery.min.js"></script>

  <div id="random_posts">
    <h2>æ¨èæ–‡ç« </h2>
    <div class="random_posts_ul">
      <script>
          var random_count =10
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2018/06/05/Project-Risk/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          PMæŒ‡å—:é¡¹ç›®é£é™©ç®¡ç†
        
      </div>
    </a>
  
  
    <a href="/2018/05/14/Addiction-Decision-Coffee/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">å—‘è¯ç®€å²ï¼šå’–å•¡ä¸Šç˜¾ï¼Œå–è¿˜æ˜¯ä¸å–ï¼Ÿ</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
       
      
      
  </div>
 
  
</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%91%98%E8%A6%81"><span class="toc-number">1.</span> <span class="toc-text">æ‘˜è¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%AA%E8%AE%BA"><span class="toc-number">2.</span> <span class="toc-text">ç»ªè®º</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#metrics"><span class="toc-number">2.0.1.</span> <span class="toc-text">metrics</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#logging"><span class="toc-number">2.0.2.</span> <span class="toc-text">logging</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tracing"><span class="toc-number">2.0.3.</span> <span class="toc-text">tracing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%88Use-OpenCensus-with-OpenZipkin%EF%BC%89"><span class="toc-number">2.0.4.</span> <span class="toc-text">ç¤ºä¾‹ï¼ˆUse OpenCensus with OpenZipkinï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Google-Dapper-Family"><span class="toc-number">3.</span> <span class="toc-text">Google Dapper Family</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Uber-Jaeger"><span class="toc-number">3.0.1.</span> <span class="toc-text">Uber Jaeger</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%98%E5%AE%9D-EagleEye%EF%BC%88%E9%B9%B0%E7%9C%BC%EF%BC%89"><span class="toc-number">3.0.2.</span> <span class="toc-text">æ·˜å® EagleEyeï¼ˆé¹°çœ¼ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BD%E5%86%85%E5%85%B6%E4%BB%96%E8%A1%8D%E7%94%9F%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.0.3.</span> <span class="toc-text">å›½å†…å…¶ä»–è¡ç”Ÿç³»ç»Ÿ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exporters-%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">Exporters | æ•°æ®å¯è§†åŒ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Prometheus-%E6%99%AE%E7%BD%97%E7%B1%B3%E4%BF%AE%E6%96%AF"><span class="toc-number">4.1.</span> <span class="toc-text">Prometheus|æ™®ç½—ç±³ä¿®æ–¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Stackdriver"><span class="toc-number">4.2.</span> <span class="toc-text">Stackdriver</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SignalFX"><span class="toc-number">4.3.</span> <span class="toc-text">SignalFX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Amazon-AWS-X-Ray"><span class="toc-number">4.4.</span> <span class="toc-text">Amazon AWS X-Ray</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Zipkin"><span class="toc-number">4.5.</span> <span class="toc-text">Zipkin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OpenCensus-vs-OpenTracing"><span class="toc-number">5.</span> <span class="toc-text">OpenCensus vs OpenTracing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sensor-Sensibility-Format"><span class="toc-number">6.</span> <span class="toc-text">Sensor Sensibility Format</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E8%B4%9F%E8%BD%BD-Managing-Tracing-Overhead"><span class="toc-number">7.</span> <span class="toc-text">ç®¡ç†è´Ÿè½½ Managing Tracing Overhead</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB"><span class="toc-number">8.</span> <span class="toc-text">æ‰©å±•é˜…è¯»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E8%BF%BD%E8%B8%AA%E7%B3%BB%E7%BB%9F"><span class="toc-number">8.0.1.</span> <span class="toc-text">åˆ†å¸ƒå¼è¿½è¸ªç³»ç»Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%BF%BD%E8%B8%AA%E6%8A%80%E6%9C%AF"><span class="toc-number">8.0.2.</span> <span class="toc-text">åŠ¨æ€è¿½è¸ªæŠ€æœ¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E6%9E%B6%E6%9E%84%E6%8A%80%E6%9C%AF%E6%BC%AB%E8%B0%88"><span class="toc-number">8.0.3.</span> <span class="toc-text">å¼€æºæ¶æ„æŠ€æœ¯æ¼«è°ˆ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="toc-number">9.</span> <span class="toc-text">å‚è€ƒæ–‡çŒ®</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
    <!--å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç -->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
      <div  style="width:100%;margin:0 auto; padding:10px 0;text-align:center">
      &copy; 2008 - 2023 RiboseYim&nbsp;
      |&nbsp; Email:&nbsp; <a>riboseyim@gmail.com</a>
      |&nbsp; <a href="https://twitter.com/riboseyim" target="_blank" style="color:#939393;">Twitter</a>
      |&nbsp; <a href="https://github.com/riboseyim" target="_blank" style="color:#939393;">GitHub</a>
      |&nbsp; <a href="https://github.com/riboseyim/riboseyim.com.comment/issues" target="_blank"> ç•™è¨€ç®± Message Box</a>
    </div>
  </div>
  <div class="outer">
    <div  style="width:100%;margin:0 auto; padding:10px 0;text-align:center">
        ä¸»é¢˜ <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank" style="color:#939393;font-size:80%">Hexo Cafe</a> |
       <a target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/4.0" style="display:inline-block;text-decoration:none;color:#939393;font-size:80%">ä¿æŒç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç»| License BY-NC-ND 4.0 </a> |
       <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1258500076'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1258500076%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
  </div>
  </div>
</footer>

<script src="/jquery/jquery.min.js"></script>


    </div>
    <nav id="mobile-nav">
  
    <a href="/archives" class="mobile-nav-link">å½’æ¡£</a>
  
    <a href="/tags/DevOps" class="mobile-nav-link">DevOps</a>
  
    <a href="/tags/Machine-Learning" class="mobile-nav-link">æœºå™¨å­¦ä¹ </a>
  
    <a href="/tags/Economist" class="mobile-nav-link">ç»æµå­¦äºº</a>
  
    <a href="/tags/Policy-Law" class="mobile-nav-link">Policy&amp;Law</a>
  
    <a href="/charts" class="mobile-nav-link">å›¾è¡¨</a>
  
    <a href="/2017/02/09/eBook" class="mobile-nav-link">ç”µå­ä¹¦</a>
  
    <a href="/2016/05/31/AboutMe" class="mobile-nav-link">å…³äº</a>
  
    <a href="https://riboseyim.com" class="mobile-nav-link">TechBlog</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
    
 


  
  





  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>